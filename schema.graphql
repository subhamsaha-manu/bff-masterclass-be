type Query {
  login(input: LoginUserInput!): AuthPayload!
  currentUser: User
  activitiesInClass(classId: ID!): [Activity!]!
  students: [Student!]!
}

input LoginUserInput {
  email: String!
  password: String!
}

type AuthPayload {
  token: String!
  uuid: ID!
  code: Int
  message: String
  name: String
}

type User {
  uuid: ID!
  name: String!
  email: String!
}

type Activity {
  uuid: ID!
  name: String!
  description: String!
  completionPercentage: Int! @computed
  classId: String!
}

type Mutation {
  lockUnlockActivity(lockUnlockActivityInput: LockUnlockActivityInput!): Boolean!
}

type StudentActivity {
  uuid: ID!
  status: ActivityStatus!
}

type Student {
  uuid: ID!
  name: String!
  activities: [StudentActivity!]!
}

enum ActivityStatus {
  COMPLETED
  LOCKED
  UNLOCKED
}

input LockUnlockActivityInput {
  studentId: ID!
  activityId: ID!
  status: ActivityStatus!
}

directive @entity(embedded: Boolean) on OBJECT

directive @chimp(embedded: Boolean) on OBJECT

directive @column(overrideType: String) on FIELD_DEFINITION

directive @id on FIELD_DEFINITION

directive @computed on FIELD_DEFINITION

directive @link(overrideType: String) on FIELD_DEFINITION

directive @embedded on FIELD_DEFINITION

directive @map(path: String!) on FIELD_DEFINITION

directive @union(discriminatorField: String) on UNION

input AdditionalEntityFields {
  path: String
  type: String
}

schema {
  query: Query
  mutation: Mutation
}

